<div id="messages">
	<section class="row header">
		<div class="col-md-4"></div>
		<div class="col-md-8 no-padding-left no-padding-right">
			<div class="col-md-10 name">
				<div class="col-md-3 no-padding-left no-padding-right">
					<img id="avatar_img" archive="currentUser.avatar.image" placeholder="img/contact-person.svg">
				</div>
				<div class="col-md-9">
					<h1 class="title">{{currentUser.name}} {{currentUser.lastName}}</h1>
					<div class="col-md-12 no-padding-left no-padding-right">
						<div class="connection">&uacute;ltima vez conectado: <span>{{currentUser.lastConnection | date: 'dd-MM-yyyy'}}</span></div>
					</div>
				</div>
			</div>
			<div class="clearfix"></div>
			<div class="col-md-10 coins">
				<div class="col-md-6 no-padding-left">
					<span class="subtitle">Coins: <span class="dark">{{currentUser.coins}}</span> <i class="gc gc-usd-o"></i></span>
				</div>
				<div class="col-md-6 text-center">
					<button class="btn btn-tertiary small">Obt&eacute;n <span class="light">coins</span> f&aacute;cil</button>
				</div>
			</div>
			<div class="clearfix"></div>
			<div class="col-md-12 total">
				<span class="subtitle">Resumen de estatus de juegos</span>
				<div class="col-md-8 description">
					<span>Juegos actualmente prestados: <span class="dark">0</span></span>
					<div class="updated">&uacute;ltima actualizaci&oacute;n: <span>01-04-2017</span></div>
				</div>
				<div class="col-md-8 description">
					<span>Juegos por devolver: <span class="dark">0</span></span>
					<div class="updated">&uacute;ltima actualizaci&oacute;n: <span>01-04-2017</span></div>
				</div>
			</div>
		</div>
		<div class="clearfix"></div>
	</section>

	<section class="row messages">
		<div class="inbox col-md-12">
			<div class="list col-md-4">
				<div class="head">Mensajes</div>

				<div class="search">
					<input type="text" placeholder="Buscar en mensajes" ng-model="search">
				</div>

				<div class="scrollable">
					<span class="no-messages" ng-if="messages.length == 0">No tienes ningún mensaje</span>
					<div class="inbox-cell" ng-class="{'unread': !message.read, 'selected': message.selected}" ng-repeat="message in messages" ng-click="messageSelected(message)">
						<div class="image col-md-3">
							<img src="img/messages/gameclub-icon.svg" ng-if="message.isPromo">
							<img class="avatar" archive="message.sender.avatar.image" placeholder="img/contact-person{{message.read && !message.selected ? '-black' : ''}}.svg" ng-if="!message.isPromo">
						</div>

						<div class="labels col-md-6">
							<span id="from">{{message.isPromo ? 'GAME CLUB' : (message.sender.name) + ' ' + (message.sender.lastName | limitTo: 1) + '.'}}</span>
							<br/>
							<span>{{message.subject}}</span>
						</div>

						<div class="date col-md-3">
							<span>{{getFormattedDate(message.date)}}</span>
						</div>

						<div class="clearfix"></div>
					</div>
				</div>
			</div>

			<div class="detail col-md-8">
				<div class="head">Detalle del mensaje</div>

				<div class="canvas">
					<span class="no-content" ng-if="noSelected()">Selecciona un mensaje</span>

					<div class="welcome-kit col-md-12" ng-repeat="kit in welcomeKits">
						<div class="date">{{kit.creationDate | date: 'dd/MM/yy - HH:mm'}}</div>
						<div class="confirmation">
							<form class="form-horizontal" role="form" on-submit="confirmWelcomeKit(kit)" novalidate>
								<span class="body">Hola {{kit.publicUser.name}},</span>
								<br><br>
								<span class="body">GAME CLUB te da la bienvenida, te enviaremos un Welcome Kit para que puedas pedir y prestar juegos, por favor confirma tu información de recepción.</span>
								<br>

								<div class="form-row col-md-12">
									<label class="col-md-3 control-label">Ciudad</label>
									<div class="col-md-9">
										<span>{{currentUser.location.name}}</span>
									</div>
								</div>

								<div class="form-row col-md-12">
									<label class="col-md-3 control-label">Dirección</label>
									<div class="col-md-9">
										<textarea type="text" class="address" ng-model="kit.billingAddress" required ng-init="kit.billingAddress = currentUser.billingAddress" rows="3"></textarea>
									</div>
								</div>

								<div class="form-row col-md-12">
									<label class="col-md-3 control-label">Teléfono</label>
									<div class="col-md-9">
										<input type="text" class="phone" ng-model="kit.contactPhone" required ng-init="kit.contactPhone = currentUser.contactPhone" onkeypress="return !isNaN(String.fromCharCode(event.charCode))">
									</div>
								</div>

								<div class="form-row col-md-12">
									<label class="col-md-4 control-label">Persona de entrega</label>
									<div class="col-md-8">
										<input type="text" class="receiver" ng-model="kit.receiver" required ng-init="kit.receiver = currentUser.name + ' ' + currentUser.lastName">
									</div>
								</div>

								<div class="form-row col-md-12">
									<label class="col-md-3 control-label"><i class="gc gc-address"></i></label>
									<div class="col-md-9">
										<img class="geo-check" src="/img/check.svg" ng-if="kit.geolocation != null">
									</div>
								</div>

								<div class="form-row col-md-12">
									<div class="col-md-12">
										<button type="submit" class="btn btn-tertiary full btn-xs">Confirmar envío</button>
										<button type="submit" class="btn btn-tertiary btn-xs">Cancelar envío</button>
									</div>
								</div>

								<div class="clearfix"></div>
							</form>
						</div>
					</div>
					<div class="clearfix"></div>
				</div>
			</div>

			<div class="clearfix"></div>
		</div>
	</section>
</div>