<div id="game-rating">
    <div class="game-container">
        <div class="{{bgColor}} background no-hover">
            <div class="diamond-image">
                <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none" style="overflow: visible;">
                    <defs>
                        <pattern id="border" patternUnits="userSpaceOnUse" width="100" height="100">
                            <image xlink:href="img/diamond-border.svg" width="100" height="100" />
                        </pattern>
                        <pattern id="cropped_{{$id}}" patternUnits="userSpaceOnUse" width="100" height="100">
                            <image archive="imageArchive" xlink:href="" width="100" height="100" />
                        </pattern>
                        <filter id="shadow" width="130%" height="130%">
                            <feGaussianBlur in="SourceAlpha" stdDeviation="3"/> <!-- stdDeviation is how much to blur -->
                            <feOffset dx="0" dy="0" result="offsetblur"/> <!-- how much to offset -->
                            <feMerge> 
                                <feMergeNode/> <!-- this contains the offset blurred image -->
                                <feMergeNode in="SourceGraphic"/> <!-- this contains the element that the filter is applied to -->
                            </feMerge>
                        </filter>
                    </defs>
                    <path d="M47 3 L3 47 C3 47 0 50 3 53 L47 97 C47 97 50 100 53 97 L97 53 C97 53 100 50 97 47 L53 3 C53 3 50 0 47 3 z" style="fill: url(#border); filter: url(#shadow);"></path>
                    <path d="M45 10 L10 45 C10 45 5 50 10 55 L45 90 C45 90 50 95 55 90 L90 55 C90 55 95 50 90 45 L55 10 C55 10 50 5 45 10 z" style="fill: url(#cropped_{{$id}})" ng-style="!noSelection ? {'cursor': 'pointer'} : {}"></path>
                </svg>
            </div>

            <div class="rating-container" ng-if="!hideRating">
                <i class="gc gc-rating" ng-class="1 <= rating ? 'yes' : ''"></i>
                <i class="gc gc-rating" ng-class="2 <= rating ? 'yes' : ''"></i>
                <i class="gc gc-rating" ng-class="3 <= rating ? 'yes' : ''"></i>
                <i class="gc gc-rating" ng-class="4 <= rating ? 'yes' : ''"></i>
                <i class="gc gc-rating" ng-class="5 <= rating ? 'yes' : ''"></i>
            </div>
        </div>
    </div>
</div>
